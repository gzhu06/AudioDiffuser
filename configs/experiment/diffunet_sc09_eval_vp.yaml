# @package _global_

# to execute this experiment run:
# python train.py experiment=example

defaults:
  - override /datamodule: sc09.yaml
  - override /model: diffunet.yaml

# all parameters below will be merged with parameters from default configurations set above
# this allows you to overwrite only specified parameters

tags: ["sc09", "diffunet", "unconditional"]
audio_len: 16384
seed: 12345
sampler_steps: 512

trainer:
  min_epochs: 800
  max_epochs: 800

model:
  use_ema: False
  audio_sample_rate: 16000
  generated_sample_length: ${audio_len}
  generated_sample_class: 1
  total_test_samples: 64
  net:
    _target_: src.models.components.backbones.unet1d.UNet1dBase
    stride: 8
    num_filters: 128
    window_length: 32
    use_nearest_upsample: True
  diffusion:
    _target_: src.models.components.diffusion.VPDiffusion
    beta_min: 0.05
    beta_d: 19.95
    M: 1000
  noise_distribution:
    _target_: src.models.components.distribution.UniformDistribution
    vmin: 0.00001
    vmax: 1.0
  sampler:
    _target_: src.models.components.sampler.VPSampler
    num_steps: 100
    beta_min: 0.05
    beta_d: 19.95
    epsilon_s: 0.00001
    s_churn: 100
  noise_scheduler:
    _target_: src.models.components.scheduler.ReverseLinearSchedule
    epsilon_s: 0.00001
    num_steps : 100

datamodule:
  batch_size: 64
  audio_len: ${audio_len} 

logger:
  wandb:
    tags: ${tags}
    group: "diffaudio-sc09"
