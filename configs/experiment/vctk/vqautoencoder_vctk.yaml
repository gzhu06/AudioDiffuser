# @package _global_

# to execute this experiment run:
# python train.py experiment=example

defaults:
  - override /datamodule: vctk16k.yaml
  - override /model: vqautoencoder.yaml
  - override /callbacks: custom_exp2.yaml
  - override /trainer: gpu.yaml

# all parameters below will be merged with parameters from default configurations set above
# this allows you to overwrite only specified parameters

tags: ["vctk16k", "vqautoencoder"]
codebook_dim : 256
codebook_size: 512
seed: 12345

trainer:
  min_epochs: 30
  max_epochs: 30

datamodule:
  batch_size: 20
  audio_len: 32000
  
model:
  apply_grad_penalty: False
  stft_normalized: True
  autoencoder:
    _target_: src.models.components.backbones.vqautoencoder.VQAutoEncoer
    codebook_dim: ${codebook_dim}
    
  bottleneck:
    _target_: src.models.components.backbones.bottleneck.VQBottleneck
    dim: ${codebook_dim}
    codebook_size: ${codebook_size}
  
  vqstftdiscriminator:
    _target_: src.models.components.backbones.vqautoencoder.ComplexSTFTDiscriminator
    channels: 16
    n_fft: 1024
    hop_length: 256
    win_length: 1024
    stft_normalized: True

logger:
  wandb:
    tags: ${tags}
    group: "vq-ae"
